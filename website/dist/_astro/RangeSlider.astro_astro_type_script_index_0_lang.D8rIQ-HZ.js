import{a as H,o as x}from"./DOMUtils.xVoLgT47.js";import{d as v}from"./event.C5jlCmtE.js";const N=(n,e,t)=>Math.min(Math.max(n,e),t),I=(n,e,t)=>n*(1-t)+e*t,h=(n,e,t)=>N((t-n)/(e-n),0,1),E=(n,e,t)=>I(t[0],t[1],h(e[0],e[1],n)),M=({range:n,minValue:e,maxValue:t,min:r,max:a})=>{n.style.left=`${E(e,[r,a],[0,100])}%`,n.style.right=`${E(t,[r,a],[100,0])}%`},T=(n,e,t)=>{const r=n.querySelector('[data-id="w-min-label"]'),a=n.querySelector('[data-id="w-max-label"]');r instanceof HTMLElement&&a instanceof HTMLElement&&(r.innerText=r.innerText.replace(/\d+(\.\d+)?/,String(e)),a.innerText=a.innerText.replace(/\d+(\.\d+)?/,String(t)))},L=()=>{x('[data-id="w-range-slider"] input',"input",n=>{const e=n.target;if(!(e instanceof HTMLInputElement))return;const t=e.parentElement?.querySelector('[data-id="w-range"]'),r=e.parentElement?.parentElement,a=e.previousElementSibling,l=e.nextElementSibling;if(!(r instanceof HTMLDivElement)||!(t instanceof HTMLDivElement))return;const m=Number(e.value),d=Number(e.min),p=Number(e.max),o=Number(e.step),s=Number(r.dataset.gap),i=!!r.dataset.updateLabels,f=a instanceof HTMLInputElement?a.value:0,S=l instanceof HTMLInputElement?l.value:0,u=e.dataset.min?m:Number(f),c=e.dataset.max?m:Number(S);let g=u,b=c;c-u>=s?(i&&T(r,u,c),v("rangeSliderOnChange",{name:e.name,min:u,max:c})):e.dataset.min?(g=c-Math.max(o,s),e.value=String(g)):(b=u+Math.max(o,s),e.value=String(b)),M({range:t,minValue:g,maxValue:b,min:d,max:p})},!0),x('[data-id="w-range-slider"] button',"click",n=>{const e=n.currentTarget;if(!(e instanceof HTMLButtonElement))return;const t=e.parentElement,r=t?.querySelector('[data-id="w-range"]'),a=t?.querySelector("[data-min]"),l=t?.querySelector("[data-max]");if(!(t instanceof HTMLDivElement)||!(r instanceof HTMLDivElement)||!(a instanceof HTMLInputElement)||!(l instanceof HTMLInputElement))return;const m=e.dataset.dir==="left"?-1:1,d=Number(a.step),p=Number(a.min),o=Number(a.max),s=Number(a.value)+m*d,i=Number(l.value)+m*d,f=!!t.dataset.updateLabels;s<p||i>o||(a.value=String(s),l.value=String(i),M({range:r,minValue:s,maxValue:i,min:p,max:o}),f&&T(t,s,i),v("rangeSliderOnChange",{name:a.name,min:s,max:i}))},!0)};H(document,"astro:after-swap",L);x(document,"astro:after-swap",L);L();
