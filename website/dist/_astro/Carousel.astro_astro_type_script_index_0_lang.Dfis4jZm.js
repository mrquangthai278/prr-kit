import{d as S}from"./debounce.DT8DhbJn.js";import{l as w}from"./event.C5jlCmtE.js";const E=e=>i=>e.includes(i),x=["xs","sm","md","lg"],v=()=>{const e=getComputedStyle(document.documentElement).getPropertyValue("--w-breakpoint").trim();if(E(x)(e))return e;throw new Error(`Unexpected breakpoint: ${e}`)},b=()=>{const e=Array.from(document.querySelectorAll('[data-id="w-carousel"]')),i=s=>{const t=s.target;if(!t.dataset.paginated){const r=t.scrollLeft,n=t.children[0].clientWidth,a=Math.round(r/n)+1,c=t.children[0],l=t.parentElement?.querySelector('[data-id="w-pagination"]'),d=Number(l.dataset.currentPage),o=Math.abs(d-a);let u=d>a?l.querySelector('[data-page="prev"]'):l.querySelector('[data-page="next"]');u||(u=l.querySelector(`[data-page="${a}"]`));for(let g=0;g<o;g++)u?.click();Array.from(c.children).forEach(g=>{g.removeAttribute("data-active")});const p=c.children[a-1];p.dataset.active="true"}},m=s=>{const t=s[0].target,r=t.querySelector("ul"),n=t.parentElement?.querySelector('[data-id="w-pagination"]'),a=v();if(!t||!r||!n||r.dataset.currentBreakpoint===a)return;const c=t.parentElement?.querySelector(".w-carousel-progress"),l=n.querySelector('[data-page="prev"]'),d=n.querySelector('[data-page="next"]'),o=n.nextElementSibling,u=JSON.parse(r.dataset.breakpointItems||""),p=u[a]||u.default,g=r.children.length,h=Math.ceil(g/p);r.dataset.currentBreakpoint=a,r.dataset.visibleItems=p,r.children[0].scrollIntoView({behavior:"smooth",block:"nearest"}),r.style.setProperty("--w-slide-width",`calc(${100/p}% - 5px)`),n.dataset.totalPages=String(h),l&&d||(n.innerHTML=Array.from({length:h},(f,y)=>y+1).map(f=>`
                        <li>
                            <button
                                data-active="${f-1===0}"
                                data-page="${f}"
                                aria-label="${`page ${f}`}"
                            ></button>
                        </li>
                    `).join("")),c&&c.children[0]instanceof HTMLDivElement&&c.children[0].style.setProperty("--w-progress-width","0%"),o instanceof HTMLSpanElement&&o?.dataset.text&&(o.innerText=o.dataset.text.replace("{0}","1").replace("{1}",String(h)))};e.forEach(s=>{const t=s,r=s.querySelector("ul"),n=new ResizeObserver(m),a=t.dataset.debounce?Number(t.dataset.debounce):20;r?.dataset.breakpointItems&&n.observe(t),s.addEventListener("scroll",S(c=>{i(c)},a))})};w("paginate",e=>{const i=e.target,m=i.closest("section").querySelector('[data-id="w-carousel"] ul');if(!m)return;const s=i.closest("section").querySelector(".w-carousel-progress"),t=100/(Number(i.dataset.totalPages)-1),r=Number(m.dataset.visibleItems)||1,n=m.children.length,a=Array.from({length:Math.ceil(n/r)},(o,u)=>Array.from({length:r},(p,g)=>u*r+g).filter(p=>p<n));if(a.length<e.page)return;const c=e.direction==="prev"?a[e.page-1][0]:a[e.page-1][a[e.page-1].length-1],l=m.children[c],d=e.target.parentElement.querySelector("span");if(Array.from(m.children).forEach(o=>{o.removeAttribute("data-active")}),d?.dataset.text&&(d.innerText=d.dataset.text.replace("{0}",e.page).replace("{1}",i.dataset.totalPages)),s){const o=t*(Number(e.page)-1);s.children[0].style.setProperty("--w-progress-width",`${o}%`)}if(e.trusted){const o=i.closest("section").querySelector('[data-id="w-carousel"]');l.scrollIntoView({behavior:"smooth",block:"nearest"}),l.dataset.active="true",o.dataset.paginated="true",setTimeout(()=>{o.removeAttribute("data-paginated")},300)}});document.addEventListener("astro:after-swap",b);b();
